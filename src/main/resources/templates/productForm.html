<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout layout:decorate="~{layouts/layout}">

<th:block layout:fragment="css">
    <style>
        .fieldError{
            color: #bd2130;
        }
        .middle-btn{
            text-align: center;
            padding: 30px 20px 20px 20px;
        }
    </style>
</th:block>

<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel ="stylesheet" th:href="@{/css/styles.css}">
<link th:href="@{/css/shop.css}" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Noto+Sans+KR&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<hr>
<div layout:fragment="content">
<b class="fs-4">상품 등록</b>
<hr>
<form th:action="@{/product/new}" method="post" enctype="multipart/form-data" th:object="${productDTO}">
	<div style="display: flex; justify-content: space-between;">
		<div class="form-group" style="width: 65%">
			<b>상품명</b>
			<input type="text" class="form-control" th:field="*{name}">
			<p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" style="color: #bd2130;">Incorrect data</p>
		</div>
		<div class="form-group" style="width: 30%">
			<b>분류</b>
			<select class="form-select" th:field="*{category}" style="float: right;">
		    <option th:each="category : ${T(com.example.project.dto.Category).values()}" 
		        th:value="${category.name()}" th:text="${category.name()}"></option>
			</select><br>
		</div>
	</div>
	<div>
		<input type="file" class="form-control" name="productImgFile">
	</div>
	<br>
	<div class="form-group">
		<b>가격</b>
		<input type="text" class="form-control" th:field="*{price}">
		<p th:if="${#fields.hasErrors('price')}" th:errors="*{price}" style="color: #bd2130;">Incorrect data</p>
	</div>
	<div class="form-group">
		<b>수량</b>
		<input type="text" class="form-control" th:field="*{stock}">
		<p th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}" style="color: #bd2130;">Incorrect data</p>
	</div>
	<div class="form-group">
		<b>상품 설명</b>
		<input type="text" class="form-control" th:field="*{content}">
		<p th:if="${#fields.hasErrors('content')}" th:errors="*{content}" style="color: #bd2130;">Incorrect data</p>
	</div>
	
	<div style="width:100%; text-align:right">
		<button type="submit" class="mybtn mx-auto">상품 등록</button>
	</div>
</form>
</div>
</html>
